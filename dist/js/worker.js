!function webpackUniversalModuleDefinition(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.worker=r():e.worker=r()}(this,(function(){return function(){var __webpack_modules__={"./src/structure/const.ts":
/*!********************************!*\
  !*** ./src/structure/const.ts ***!
  \********************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "RENDER_NAME": function() { return /* binding */ RENDER_NAME; },\n/* harmony export */   "RENDER_PEER": function() { return /* binding */ RENDER_PEER; },\n/* harmony export */   "WORKER_NAME": function() { return /* binding */ WORKER_NAME; },\n/* harmony export */   "WORKER_PEER": function() { return /* binding */ WORKER_PEER; },\n/* harmony export */   "WORKER_URL": function() { return /* binding */ WORKER_URL; }\n/* harmony export */ });\nvar RENDER_PEER = "renderPeer";\nvar WORKER_PEER = "workerPeer";\n// webworker_rpc中直接使用的传入路径  支持相对路径\nvar WORKER_URL = "./js/worker.js";\n// https://webpack.docschina.org/configuration/optimization/#optimizationconcatenatemodules\n// production环境下， webpack concatenateModules默认true。\n// 合并模块名导致production和development work name不一致\n// export const RENDER_NAME = "render_Render";\n// export const NAME = "peer_MainPeer";\nvar RENDER_NAME = "Render";\nvar WORKER_NAME = "MainWorker";\n\n\n//# sourceURL=webpack://Rust-wasm/./src/structure/const.ts?')},"./src/structure/index.ts":
/*!********************************!*\
  !*** ./src/structure/index.ts ***!
  \********************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "RENDER_NAME": function() { return /* reexport safe */ _const__WEBPACK_IMPORTED_MODULE_0__.RENDER_NAME; },\n/* harmony export */   "RENDER_PEER": function() { return /* reexport safe */ _const__WEBPACK_IMPORTED_MODULE_0__.RENDER_PEER; },\n/* harmony export */   "WORKER_NAME": function() { return /* reexport safe */ _const__WEBPACK_IMPORTED_MODULE_0__.WORKER_NAME; },\n/* harmony export */   "WORKER_PEER": function() { return /* reexport safe */ _const__WEBPACK_IMPORTED_MODULE_0__.WORKER_PEER; },\n/* harmony export */   "WORKER_URL": function() { return /* reexport safe */ _const__WEBPACK_IMPORTED_MODULE_0__.WORKER_URL; }\n/* harmony export */ });\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const */ "./src/structure/const.ts");\n\n\n\n//# sourceURL=webpack://Rust-wasm/./src/structure/index.ts?')},"./src/worker/index.ts":
/*!*****************************!*\
  !*** ./src/worker/index.ts ***!
  \*****************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "MainWorker": function() { return /* reexport safe */ _main_worker__WEBPACK_IMPORTED_MODULE_1__.MainWorker; }\n/* harmony export */ });\n/* harmony import */ var structure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! structure */ "./src/structure/index.ts");\n/* harmony import */ var _main_worker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./main.worker */ "./src/worker/main.worker.ts");\n\n\n\nvar context = new _main_worker__WEBPACK_IMPORTED_MODULE_1__.MainWorker(structure__WEBPACK_IMPORTED_MODULE_0__.WORKER_PEER);\n\n\n//# sourceURL=webpack://Rust-wasm/./src/worker/index.ts?')},"./src/worker/main.worker.ts":
/*!***********************************!*\
  !*** ./src/worker/main.worker.ts ***!
  \***********************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "MainWorker": function() { return /* binding */ MainWorker; }\n/* harmony export */ });\n/* harmony import */ var webworker_rpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webworker-rpc */ "./node_modules/webworker-rpc/release/index.js");\n/* harmony import */ var webworker_rpc__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(webworker_rpc__WEBPACK_IMPORTED_MODULE_0__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== "function" && b !== null)\n            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar MainWorker = /** @class */ (function (_super) {\n    __extends(MainWorker, _super);\n    function MainWorker(peerKey) {\n        return _super.call(this, peerKey) || this;\n    }\n    MainWorker.prototype.createGame = function (config) {\n        this.launcher_config = config;\n        var js = __webpack_require__.e(/*! import() */ "pkg_wasm_js").then(__webpack_require__.bind(__webpack_require__, /*! ../../pkg/wasm */ "./pkg/wasm.js"));\n        js.then(function (js) {\n            js.greet("WebAssembly");\n        });\n    };\n    __decorate([\n        (0,webworker_rpc__WEBPACK_IMPORTED_MODULE_0__.Export)()\n    ], MainWorker.prototype, "createGame", null);\n    return MainWorker;\n}(webworker_rpc__WEBPACK_IMPORTED_MODULE_0__.RPCPeer));\n\n\n\n//# sourceURL=webpack://Rust-wasm/./src/worker/main.worker.ts?')},"./node_modules/webworker-rpc/release/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/webworker-rpc/release/index.js ***!
  \*****************************************************/function(module){eval('!function(e,r){ true?module.exports=r():0}(this,(function(){return function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=20)}([function(e,r,t){var o,n,i;n=[t(4)],void 0===(i="function"==typeof(o=function(e){"use strict";var r,t,o,n=e.Reader,i=e.Writer,a=e.util,s=e.roots.default||(e.roots.default={});return s.webworker_rpc=((o={}).MSG_ERR=(r={},(t=Object.create(r))[r[0]="OK"]=0,t),o.Executor=function(){function r(e){if(this.params=[],e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.method="",r.prototype.context="",r.prototype.params=a.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,r){if(r||(r=i.create()),r.uint32(10).string(e.method),null!=e.context&&Object.hasOwnProperty.call(e,"context")&&r.uint32(18).string(e.context),null!=e.params&&e.params.length)for(var t=0;t<e.params.length;++t)s.webworker_rpc.Param.encode(e.params[t],r.uint32(26).fork()).ldelim();return r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.Executor;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.method=e.string();break;case 2:o.context=e.string();break;case 3:o.params&&o.params.length||(o.params=[]),o.params.push(s.webworker_rpc.Param.decode(e,e.uint32()));break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("method"))throw a.ProtocolError("missing required \'method\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!a.isString(e.method))return"method: string expected";if(null!=e.context&&e.hasOwnProperty("context")&&!a.isString(e.context))return"context: string expected";if(null!=e.params&&e.hasOwnProperty("params")){if(!Array.isArray(e.params))return"params: array expected";for(var r=0;r<e.params.length;++r){var t=s.webworker_rpc.Param.verify(e.params[r]);if(t)return"params."+t}}return null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.Executor)return e;var r=new s.webworker_rpc.Executor;if(null!=e.method&&(r.method=String(e.method)),null!=e.context&&(r.context=String(e.context)),e.params){if(!Array.isArray(e.params))throw TypeError(".webworker_rpc.Executor.params: array expected");r.params=[];for(var t=0;t<e.params.length;++t){if("object"!=typeof e.params[t])throw TypeError(".webworker_rpc.Executor.params: object expected");r.params[t]=s.webworker_rpc.Param.fromObject(e.params[t])}}return r},r.toObject=function(e,r){r||(r={});var t={};if((r.arrays||r.defaults)&&(t.params=[]),r.defaults&&(t.method="",t.context=""),null!=e.method&&e.hasOwnProperty("method")&&(t.method=e.method),null!=e.context&&e.hasOwnProperty("context")&&(t.context=e.context),e.params&&e.params.length){t.params=[];for(var o=0;o<e.params.length;++o)t.params[o]=s.webworker_rpc.Param.toObject(e.params[o],r)}return t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.Param=function(){function r(e){if(e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}var t;return r.prototype.t=1,r.prototype.valStr="",r.prototype.valBool=!1,r.prototype.valNum=0,r.prototype.valBytes=a.newBuffer([]),r.prototype.valExecutor=null,r.prototype.className="",Object.defineProperty(r.prototype,"val",{get:a.oneOfGetter(t=["valStr","valBool","valNum","valBytes","valExecutor"]),set:a.oneOfSetter(t)}),r.create=function(e){return new r(e)},r.encode=function(e,r){return r||(r=i.create()),r.uint32(8).int32(e.t),null!=e.valStr&&Object.hasOwnProperty.call(e,"valStr")&&r.uint32(18).string(e.valStr),null!=e.valBool&&Object.hasOwnProperty.call(e,"valBool")&&r.uint32(24).bool(e.valBool),null!=e.valNum&&Object.hasOwnProperty.call(e,"valNum")&&r.uint32(32).int32(e.valNum),null!=e.valBytes&&Object.hasOwnProperty.call(e,"valBytes")&&r.uint32(42).bytes(e.valBytes),null!=e.valExecutor&&Object.hasOwnProperty.call(e,"valExecutor")&&s.webworker_rpc.Executor.encode(e.valExecutor,r.uint32(50).fork()).ldelim(),null!=e.className&&Object.hasOwnProperty.call(e,"className")&&r.uint32(58).string(e.className),r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.Param;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.t=e.int32();break;case 2:o.valStr=e.string();break;case 3:o.valBool=e.bool();break;case 4:o.valNum=e.int32();break;case 5:o.valBytes=e.bytes();break;case 6:o.valExecutor=s.webworker_rpc.Executor.decode(e,e.uint32());break;case 7:o.className=e.string();break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("t"))throw a.ProtocolError("missing required \'t\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var r={};switch(e.t){default:return"t: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:}if(null!=e.valStr&&e.hasOwnProperty("valStr")&&(r.val=1,!a.isString(e.valStr)))return"valStr: string expected";if(null!=e.valBool&&e.hasOwnProperty("valBool")){if(1===r.val)return"val: multiple values";if(r.val=1,"boolean"!=typeof e.valBool)return"valBool: boolean expected"}if(null!=e.valNum&&e.hasOwnProperty("valNum")){if(1===r.val)return"val: multiple values";if(r.val=1,!a.isInteger(e.valNum))return"valNum: integer expected"}if(null!=e.valBytes&&e.hasOwnProperty("valBytes")){if(1===r.val)return"val: multiple values";if(r.val=1,!(e.valBytes&&"number"==typeof e.valBytes.length||a.isString(e.valBytes)))return"valBytes: buffer expected"}if(null!=e.valExecutor&&e.hasOwnProperty("valExecutor")){if(1===r.val)return"val: multiple values";r.val=1;var t=s.webworker_rpc.Executor.verify(e.valExecutor);if(t)return"valExecutor."+t}return null!=e.className&&e.hasOwnProperty("className")&&!a.isString(e.className)?"className: string expected":null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.Param)return e;var r=new s.webworker_rpc.Param;switch(e.t){case"str":case 1:r.t=1;break;case"boolean":case 2:r.t=2;break;case"num":case 3:r.t=3;break;case"unit8array":case 4:r.t=4;break;case"executor":case 5:r.t=5;break;case"custom":case 6:r.t=6}if(null!=e.valStr&&(r.valStr=String(e.valStr)),null!=e.valBool&&(r.valBool=Boolean(e.valBool)),null!=e.valNum&&(r.valNum=0|e.valNum),null!=e.valBytes&&("string"==typeof e.valBytes?a.base64.decode(e.valBytes,r.valBytes=a.newBuffer(a.base64.length(e.valBytes)),0):e.valBytes.length&&(r.valBytes=e.valBytes)),null!=e.valExecutor){if("object"!=typeof e.valExecutor)throw TypeError(".webworker_rpc.Param.valExecutor: object expected");r.valExecutor=s.webworker_rpc.Executor.fromObject(e.valExecutor)}return null!=e.className&&(r.className=String(e.className)),r},r.toObject=function(e,r){r||(r={});var t={};return r.defaults&&(t.t=r.enums===String?"str":1,t.className=""),null!=e.t&&e.hasOwnProperty("t")&&(t.t=r.enums===String?s.webworker_rpc.ParamType[e.t]:e.t),null!=e.valStr&&e.hasOwnProperty("valStr")&&(t.valStr=e.valStr,r.oneofs&&(t.val="valStr")),null!=e.valBool&&e.hasOwnProperty("valBool")&&(t.valBool=e.valBool,r.oneofs&&(t.val="valBool")),null!=e.valNum&&e.hasOwnProperty("valNum")&&(t.valNum=e.valNum,r.oneofs&&(t.val="valNum")),null!=e.valBytes&&e.hasOwnProperty("valBytes")&&(t.valBytes=r.bytes===String?a.base64.encode(e.valBytes,0,e.valBytes.length):r.bytes===Array?Array.prototype.slice.call(e.valBytes):e.valBytes,r.oneofs&&(t.val="valBytes")),null!=e.valExecutor&&e.hasOwnProperty("valExecutor")&&(t.valExecutor=s.webworker_rpc.Executor.toObject(e.valExecutor,r),r.oneofs&&(t.val="valExecutor")),null!=e.className&&e.hasOwnProperty("className")&&(t.className=e.className),t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.ParamType=function(){var e={},r=Object.create(e);return r[e[1]="str"]=1,r[e[2]="boolean"]=2,r[e[3]="num"]=3,r[e[4]="unit8array"]=4,r[e[5]="executor"]=5,r[e[6]="custom"]=6,r}(),o.Header=function(){function r(e){if(e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.serviceName="",r.prototype.remoteExecutor=null,r.create=function(e){return new r(e)},r.encode=function(e,r){return r||(r=i.create()),r.uint32(10).string(e.serviceName),s.webworker_rpc.Executor.encode(e.remoteExecutor,r.uint32(18).fork()).ldelim(),r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.Header;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.serviceName=e.string();break;case 2:o.remoteExecutor=s.webworker_rpc.Executor.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("serviceName"))throw a.ProtocolError("missing required \'serviceName\'",{instance:o});if(!o.hasOwnProperty("remoteExecutor"))throw a.ProtocolError("missing required \'remoteExecutor\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!a.isString(e.serviceName))return"serviceName: string expected";var r=s.webworker_rpc.Executor.verify(e.remoteExecutor);return r?"remoteExecutor."+r:null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.Header)return e;var r=new s.webworker_rpc.Header;if(null!=e.serviceName&&(r.serviceName=String(e.serviceName)),null!=e.remoteExecutor){if("object"!=typeof e.remoteExecutor)throw TypeError(".webworker_rpc.Header.remoteExecutor: object expected");r.remoteExecutor=s.webworker_rpc.Executor.fromObject(e.remoteExecutor)}return r},r.toObject=function(e,r){r||(r={});var t={};return r.defaults&&(t.serviceName="",t.remoteExecutor=null),null!=e.serviceName&&e.hasOwnProperty("serviceName")&&(t.serviceName=e.serviceName),null!=e.remoteExecutor&&e.hasOwnProperty("remoteExecutor")&&(t.remoteExecutor=s.webworker_rpc.Executor.toObject(e.remoteExecutor,r)),t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.ExecutePacket=function(){function r(e){if(e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.id=0,r.prototype.header=null,r.prototype.bodyLen=0,r.prototype.body=a.newBuffer([]),r.create=function(e){return new r(e)},r.encode=function(e,r){return r||(r=i.create()),r.uint32(8).int32(e.id),s.webworker_rpc.Header.encode(e.header,r.uint32(18).fork()).ldelim(),null!=e.bodyLen&&Object.hasOwnProperty.call(e,"bodyLen")&&r.uint32(24).int32(e.bodyLen),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&r.uint32(34).bytes(e.body),r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.ExecutePacket;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.id=e.int32();break;case 2:o.header=s.webworker_rpc.Header.decode(e,e.uint32());break;case 3:o.bodyLen=e.int32();break;case 4:o.body=e.bytes();break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("id"))throw a.ProtocolError("missing required \'id\'",{instance:o});if(!o.hasOwnProperty("header"))throw a.ProtocolError("missing required \'header\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!a.isInteger(e.id))return"id: integer expected";var r=s.webworker_rpc.Header.verify(e.header);return r?"header."+r:null!=e.bodyLen&&e.hasOwnProperty("bodyLen")&&!a.isInteger(e.bodyLen)?"bodyLen: integer expected":null!=e.body&&e.hasOwnProperty("body")&&!(e.body&&"number"==typeof e.body.length||a.isString(e.body))?"body: buffer expected":null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.ExecutePacket)return e;var r=new s.webworker_rpc.ExecutePacket;if(null!=e.id&&(r.id=0|e.id),null!=e.header){if("object"!=typeof e.header)throw TypeError(".webworker_rpc.ExecutePacket.header: object expected");r.header=s.webworker_rpc.Header.fromObject(e.header)}return null!=e.bodyLen&&(r.bodyLen=0|e.bodyLen),null!=e.body&&("string"==typeof e.body?a.base64.decode(e.body,r.body=a.newBuffer(a.base64.length(e.body)),0):e.body.length&&(r.body=e.body)),r},r.toObject=function(e,r){r||(r={});var t={};return r.defaults&&(t.id=0,t.header=null,t.bodyLen=0,r.bytes===String?t.body="":(t.body=[],r.bytes!==Array&&(t.body=a.newBuffer(t.body)))),null!=e.id&&e.hasOwnProperty("id")&&(t.id=e.id),null!=e.header&&e.hasOwnProperty("header")&&(t.header=s.webworker_rpc.Header.toObject(e.header,r)),null!=e.bodyLen&&e.hasOwnProperty("bodyLen")&&(t.bodyLen=e.bodyLen),null!=e.body&&e.hasOwnProperty("body")&&(t.body=r.bytes===String?a.base64.encode(e.body,0,e.body.length):r.bytes===Array?Array.prototype.slice.call(e.body):e.body),t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.ResponsePacket=function(){function r(e){if(e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.id=0,r.prototype.val=null,r.prototype.err="",r.create=function(e){return new r(e)},r.encode=function(e,r){return r||(r=i.create()),r.uint32(8).int32(e.id),null!=e.val&&Object.hasOwnProperty.call(e,"val")&&s.webworker_rpc.Param.encode(e.val,r.uint32(18).fork()).ldelim(),null!=e.err&&Object.hasOwnProperty.call(e,"err")&&r.uint32(26).string(e.err),r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.ResponsePacket;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.id=e.int32();break;case 2:o.val=s.webworker_rpc.Param.decode(e,e.uint32());break;case 3:o.err=e.string();break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("id"))throw a.ProtocolError("missing required \'id\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!a.isInteger(e.id))return"id: integer expected";if(null!=e.val&&e.hasOwnProperty("val")){var r=s.webworker_rpc.Param.verify(e.val);if(r)return"val."+r}return null!=e.err&&e.hasOwnProperty("err")&&!a.isString(e.err)?"err: string expected":null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.ResponsePacket)return e;var r=new s.webworker_rpc.ResponsePacket;if(null!=e.id&&(r.id=0|e.id),null!=e.val){if("object"!=typeof e.val)throw TypeError(".webworker_rpc.ResponsePacket.val: object expected");r.val=s.webworker_rpc.Param.fromObject(e.val)}return null!=e.err&&(r.err=String(e.err)),r},r.toObject=function(e,r){r||(r={});var t={};return r.defaults&&(t.id=0,t.val=null,t.err=""),null!=e.id&&e.hasOwnProperty("id")&&(t.id=e.id),null!=e.val&&e.hasOwnProperty("val")&&(t.val=s.webworker_rpc.Param.toObject(e.val,r)),null!=e.err&&e.hasOwnProperty("err")&&(t.err=e.err),t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.AddRegistryPacket=function(){function r(e){if(this.executors=[],e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.id=0,r.prototype.serviceName="",r.prototype.executors=a.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,r){if(r||(r=i.create()),r.uint32(8).int32(e.id),r.uint32(18).string(e.serviceName),null!=e.executors&&e.executors.length)for(var t=0;t<e.executors.length;++t)s.webworker_rpc.Executor.encode(e.executors[t],r.uint32(26).fork()).ldelim();return r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.AddRegistryPacket;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.id=e.int32();break;case 2:o.serviceName=e.string();break;case 3:o.executors&&o.executors.length||(o.executors=[]),o.executors.push(s.webworker_rpc.Executor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("id"))throw a.ProtocolError("missing required \'id\'",{instance:o});if(!o.hasOwnProperty("serviceName"))throw a.ProtocolError("missing required \'serviceName\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!a.isInteger(e.id))return"id: integer expected";if(!a.isString(e.serviceName))return"serviceName: string expected";if(null!=e.executors&&e.hasOwnProperty("executors")){if(!Array.isArray(e.executors))return"executors: array expected";for(var r=0;r<e.executors.length;++r){var t=s.webworker_rpc.Executor.verify(e.executors[r]);if(t)return"executors."+t}}return null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.AddRegistryPacket)return e;var r=new s.webworker_rpc.AddRegistryPacket;if(null!=e.id&&(r.id=0|e.id),null!=e.serviceName&&(r.serviceName=String(e.serviceName)),e.executors){if(!Array.isArray(e.executors))throw TypeError(".webworker_rpc.AddRegistryPacket.executors: array expected");r.executors=[];for(var t=0;t<e.executors.length;++t){if("object"!=typeof e.executors[t])throw TypeError(".webworker_rpc.AddRegistryPacket.executors: object expected");r.executors[t]=s.webworker_rpc.Executor.fromObject(e.executors[t])}}return r},r.toObject=function(e,r){r||(r={});var t={};if((r.arrays||r.defaults)&&(t.executors=[]),r.defaults&&(t.id=0,t.serviceName=""),null!=e.id&&e.hasOwnProperty("id")&&(t.id=e.id),null!=e.serviceName&&e.hasOwnProperty("serviceName")&&(t.serviceName=e.serviceName),e.executors&&e.executors.length){t.executors=[];for(var o=0;o<e.executors.length;++o)t.executors[o]=s.webworker_rpc.Executor.toObject(e.executors[o],r)}return t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.GotRegistryPacket=function(){function r(e){if(e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.id=0,r.prototype.serviceName="",r.create=function(e){return new r(e)},r.encode=function(e,r){return r||(r=i.create()),r.uint32(8).int32(e.id),r.uint32(18).string(e.serviceName),r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.GotRegistryPacket;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.id=e.int32();break;case 2:o.serviceName=e.string();break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("id"))throw a.ProtocolError("missing required \'id\'",{instance:o});if(!o.hasOwnProperty("serviceName"))throw a.ProtocolError("missing required \'serviceName\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":a.isInteger(e.id)?a.isString(e.serviceName)?null:"serviceName: string expected":"id: integer expected"},r.fromObject=function(e){if(e instanceof s.webworker_rpc.GotRegistryPacket)return e;var r=new s.webworker_rpc.GotRegistryPacket;return null!=e.id&&(r.id=0|e.id),null!=e.serviceName&&(r.serviceName=String(e.serviceName)),r},r.toObject=function(e,r){r||(r={});var t={};return r.defaults&&(t.id=0,t.serviceName=""),null!=e.id&&e.hasOwnProperty("id")&&(t.id=e.id),null!=e.serviceName&&e.hasOwnProperty("serviceName")&&(t.serviceName=e.serviceName),t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.RemoveRegistryPacket=function(){function r(e){if(this.executors=[],e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.serviceName="",r.prototype.executors=a.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,r){if(r||(r=i.create()),r.uint32(10).string(e.serviceName),null!=e.executors&&e.executors.length)for(var t=0;t<e.executors.length;++t)s.webworker_rpc.Executor.encode(e.executors[t],r.uint32(18).fork()).ldelim();return r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.RemoveRegistryPacket;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.serviceName=e.string();break;case 2:o.executors&&o.executors.length||(o.executors=[]),o.executors.push(s.webworker_rpc.Executor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("serviceName"))throw a.ProtocolError("missing required \'serviceName\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!a.isString(e.serviceName))return"serviceName: string expected";if(null!=e.executors&&e.hasOwnProperty("executors")){if(!Array.isArray(e.executors))return"executors: array expected";for(var r=0;r<e.executors.length;++r){var t=s.webworker_rpc.Executor.verify(e.executors[r]);if(t)return"executors."+t}}return null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.RemoveRegistryPacket)return e;var r=new s.webworker_rpc.RemoveRegistryPacket;if(null!=e.serviceName&&(r.serviceName=String(e.serviceName)),e.executors){if(!Array.isArray(e.executors))throw TypeError(".webworker_rpc.RemoveRegistryPacket.executors: array expected");r.executors=[];for(var t=0;t<e.executors.length;++t){if("object"!=typeof e.executors[t])throw TypeError(".webworker_rpc.RemoveRegistryPacket.executors: object expected");r.executors[t]=s.webworker_rpc.Executor.fromObject(e.executors[t])}}return r},r.toObject=function(e,r){r||(r={});var t={};if((r.arrays||r.defaults)&&(t.executors=[]),r.defaults&&(t.serviceName=""),null!=e.serviceName&&e.hasOwnProperty("serviceName")&&(t.serviceName=e.serviceName),e.executors&&e.executors.length){t.executors=[];for(var o=0;o<e.executors.length;++o)t.executors[o]=s.webworker_rpc.Executor.toObject(e.executors[o],r)}return t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.UnlinkPacket=function(){function r(e){if(e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.serviceName="",r.create=function(e){return new r(e)},r.encode=function(e,r){return r||(r=i.create()),r.uint32(10).string(e.serviceName),r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.UnlinkPacket;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.serviceName=e.string();break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("serviceName"))throw a.ProtocolError("missing required \'serviceName\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":a.isString(e.serviceName)?null:"serviceName: string expected"},r.fromObject=function(e){if(e instanceof s.webworker_rpc.UnlinkPacket)return e;var r=new s.webworker_rpc.UnlinkPacket;return null!=e.serviceName&&(r.serviceName=String(e.serviceName)),r},r.toObject=function(e,r){r||(r={});var t={};return r.defaults&&(t.serviceName=""),null!=e.serviceName&&e.hasOwnProperty("serviceName")&&(t.serviceName=e.serviceName),t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.RequestLinkPacket=function(){function r(e){if(e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.serviceName="",r.prototype.workerName="",r.prototype.workerUrl="",r.create=function(e){return new r(e)},r.encode=function(e,r){return r||(r=i.create()),r.uint32(10).string(e.serviceName),r.uint32(18).string(e.workerName),r.uint32(26).string(e.workerUrl),r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.RequestLinkPacket;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.serviceName=e.string();break;case 2:o.workerName=e.string();break;case 3:o.workerUrl=e.string();break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("serviceName"))throw a.ProtocolError("missing required \'serviceName\'",{instance:o});if(!o.hasOwnProperty("workerName"))throw a.ProtocolError("missing required \'workerName\'",{instance:o});if(!o.hasOwnProperty("workerUrl"))throw a.ProtocolError("missing required \'workerUrl\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":a.isString(e.serviceName)?a.isString(e.workerName)?a.isString(e.workerUrl)?null:"workerUrl: string expected":"workerName: string expected":"serviceName: string expected"},r.fromObject=function(e){if(e instanceof s.webworker_rpc.RequestLinkPacket)return e;var r=new s.webworker_rpc.RequestLinkPacket;return null!=e.serviceName&&(r.serviceName=String(e.serviceName)),null!=e.workerName&&(r.workerName=String(e.workerName)),null!=e.workerUrl&&(r.workerUrl=String(e.workerUrl)),r},r.toObject=function(e,r){r||(r={});var t={};return r.defaults&&(t.serviceName="",t.workerName="",t.workerUrl=""),null!=e.serviceName&&e.hasOwnProperty("serviceName")&&(t.serviceName=e.serviceName),null!=e.workerName&&e.hasOwnProperty("workerName")&&(t.workerName=e.workerName),null!=e.workerUrl&&e.hasOwnProperty("workerUrl")&&(t.workerUrl=e.workerUrl),t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.DestroyManagerPacket=function(){function r(e){if(e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.serviceName="",r.create=function(e){return new r(e)},r.encode=function(e,r){return r||(r=i.create()),null!=e.serviceName&&Object.hasOwnProperty.call(e,"serviceName")&&r.uint32(10).string(e.serviceName),r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.DestroyManagerPacket;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.serviceName=e.string();break;default:e.skipType(7&i)}}return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.serviceName&&e.hasOwnProperty("serviceName")&&!a.isString(e.serviceName)?"serviceName: string expected":null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.DestroyManagerPacket)return e;var r=new s.webworker_rpc.DestroyManagerPacket;return null!=e.serviceName&&(r.serviceName=String(e.serviceName)),r},r.toObject=function(e,r){r||(r={});var t={};return r.defaults&&(t.serviceName=""),null!=e.serviceName&&e.hasOwnProperty("serviceName")&&(t.serviceName=e.serviceName),t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.LinkPacket=function(){function r(e){if(this.workers=[],e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.workers=a.emptyArray,r.create=function(e){return new r(e)},r.encode=function(e,r){if(r||(r=i.create()),null!=e.workers&&e.workers.length)for(var t=0;t<e.workers.length;++t)r.uint32(10).string(e.workers[t]);return r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.LinkPacket;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.workers&&o.workers.length||(o.workers=[]),o.workers.push(e.string());break;default:e.skipType(7&i)}}return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.workers&&e.hasOwnProperty("workers")){if(!Array.isArray(e.workers))return"workers: array expected";for(var r=0;r<e.workers.length;++r)if(!a.isString(e.workers[r]))return"workers: string[] expected"}return null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.LinkPacket)return e;var r=new s.webworker_rpc.LinkPacket;if(e.workers){if(!Array.isArray(e.workers))throw TypeError(".webworker_rpc.LinkPacket.workers: array expected");r.workers=[];for(var t=0;t<e.workers.length;++t)r.workers[t]=String(e.workers[t])}return r},r.toObject=function(e,r){r||(r={});var t={};if((r.arrays||r.defaults)&&(t.workers=[]),e.workers&&e.workers.length){t.workers=[];for(var o=0;o<e.workers.length;++o)t.workers[o]=e.workers[o]}return t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.ProxyCreateWorkerPacket=function(){function r(e){if(e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}return r.prototype.workerName="",r.prototype.workerUrl="",r.prototype.workerType="",r.prototype.msg=null,r.create=function(e){return new r(e)},r.encode=function(e,r){return r||(r=i.create()),r.uint32(10).string(e.workerName),r.uint32(18).string(e.workerUrl),null!=e.workerType&&Object.hasOwnProperty.call(e,"workerType")&&r.uint32(26).string(e.workerType),s.webworker_rpc.WebWorkerMessage.encode(e.msg,r.uint32(34).fork()).ldelim(),r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.ProxyCreateWorkerPacket;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.workerName=e.string();break;case 2:o.workerUrl=e.string();break;case 3:o.workerType=e.string();break;case 4:o.msg=s.webworker_rpc.WebWorkerMessage.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("workerName"))throw a.ProtocolError("missing required \'workerName\'",{instance:o});if(!o.hasOwnProperty("workerUrl"))throw a.ProtocolError("missing required \'workerUrl\'",{instance:o});if(!o.hasOwnProperty("msg"))throw a.ProtocolError("missing required \'msg\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(!a.isString(e.workerName))return"workerName: string expected";if(!a.isString(e.workerUrl))return"workerUrl: string expected";if(null!=e.workerType&&e.hasOwnProperty("workerType")&&!a.isString(e.workerType))return"workerType: string expected";var r=s.webworker_rpc.WebWorkerMessage.verify(e.msg);return r?"msg."+r:null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.ProxyCreateWorkerPacket)return e;var r=new s.webworker_rpc.ProxyCreateWorkerPacket;if(null!=e.workerName&&(r.workerName=String(e.workerName)),null!=e.workerUrl&&(r.workerUrl=String(e.workerUrl)),null!=e.workerType&&(r.workerType=String(e.workerType)),null!=e.msg){if("object"!=typeof e.msg)throw TypeError(".webworker_rpc.ProxyCreateWorkerPacket.msg: object expected");r.msg=s.webworker_rpc.WebWorkerMessage.fromObject(e.msg)}return r},r.toObject=function(e,r){r||(r={});var t={};return r.defaults&&(t.workerName="",t.workerUrl="",t.workerType="",t.msg=null),null!=e.workerName&&e.hasOwnProperty("workerName")&&(t.workerName=e.workerName),null!=e.workerUrl&&e.hasOwnProperty("workerUrl")&&(t.workerUrl=e.workerUrl),null!=e.workerType&&e.hasOwnProperty("workerType")&&(t.workerType=e.workerType),null!=e.msg&&e.hasOwnProperty("msg")&&(t.msg=s.webworker_rpc.WebWorkerMessage.toObject(e.msg,r)),t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o.WebWorkerMessage=function(){function r(e){if(e)for(var r=Object.keys(e),t=0;t<r.length;++t)null!=e[r[t]]&&(this[r[t]]=e[r[t]])}var t;return r.prototype.key="",r.prototype.dataLink=null,r.prototype.dataRequestLink=null,r.prototype.dataProxyCreateWorker=null,r.prototype.dataAddRegistry=null,r.prototype.dataGotRegistry=null,r.prototype.dataRemoveRegistry=null,r.prototype.dataExecute=null,r.prototype.dataResponse=null,r.prototype.dataUnlink=null,r.prototype.dataDestroyManager=null,Object.defineProperty(r.prototype,"data",{get:a.oneOfGetter(t=["dataLink","dataRequestLink","dataProxyCreateWorker","dataAddRegistry","dataGotRegistry","dataRemoveRegistry","dataExecute","dataResponse","dataUnlink","dataDestroyManager"]),set:a.oneOfSetter(t)}),r.create=function(e){return new r(e)},r.encode=function(e,r){return r||(r=i.create()),r.uint32(10).string(e.key),null!=e.dataLink&&Object.hasOwnProperty.call(e,"dataLink")&&s.webworker_rpc.LinkPacket.encode(e.dataLink,r.uint32(18).fork()).ldelim(),null!=e.dataRequestLink&&Object.hasOwnProperty.call(e,"dataRequestLink")&&s.webworker_rpc.RequestLinkPacket.encode(e.dataRequestLink,r.uint32(26).fork()).ldelim(),null!=e.dataProxyCreateWorker&&Object.hasOwnProperty.call(e,"dataProxyCreateWorker")&&s.webworker_rpc.ProxyCreateWorkerPacket.encode(e.dataProxyCreateWorker,r.uint32(34).fork()).ldelim(),null!=e.dataAddRegistry&&Object.hasOwnProperty.call(e,"dataAddRegistry")&&s.webworker_rpc.AddRegistryPacket.encode(e.dataAddRegistry,r.uint32(42).fork()).ldelim(),null!=e.dataGotRegistry&&Object.hasOwnProperty.call(e,"dataGotRegistry")&&s.webworker_rpc.GotRegistryPacket.encode(e.dataGotRegistry,r.uint32(50).fork()).ldelim(),null!=e.dataRemoveRegistry&&Object.hasOwnProperty.call(e,"dataRemoveRegistry")&&s.webworker_rpc.RemoveRegistryPacket.encode(e.dataRemoveRegistry,r.uint32(58).fork()).ldelim(),null!=e.dataExecute&&Object.hasOwnProperty.call(e,"dataExecute")&&s.webworker_rpc.ExecutePacket.encode(e.dataExecute,r.uint32(66).fork()).ldelim(),null!=e.dataResponse&&Object.hasOwnProperty.call(e,"dataResponse")&&s.webworker_rpc.ResponsePacket.encode(e.dataResponse,r.uint32(74).fork()).ldelim(),null!=e.dataUnlink&&Object.hasOwnProperty.call(e,"dataUnlink")&&s.webworker_rpc.UnlinkPacket.encode(e.dataUnlink,r.uint32(82).fork()).ldelim(),null!=e.dataDestroyManager&&Object.hasOwnProperty.call(e,"dataDestroyManager")&&s.webworker_rpc.DestroyManagerPacket.encode(e.dataDestroyManager,r.uint32(90).fork()).ldelim(),r},r.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},r.decode=function(e,r){e instanceof n||(e=n.create(e));for(var t=void 0===r?e.len:e.pos+r,o=new s.webworker_rpc.WebWorkerMessage;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:o.key=e.string();break;case 2:o.dataLink=s.webworker_rpc.LinkPacket.decode(e,e.uint32());break;case 3:o.dataRequestLink=s.webworker_rpc.RequestLinkPacket.decode(e,e.uint32());break;case 4:o.dataProxyCreateWorker=s.webworker_rpc.ProxyCreateWorkerPacket.decode(e,e.uint32());break;case 5:o.dataAddRegistry=s.webworker_rpc.AddRegistryPacket.decode(e,e.uint32());break;case 6:o.dataGotRegistry=s.webworker_rpc.GotRegistryPacket.decode(e,e.uint32());break;case 7:o.dataRemoveRegistry=s.webworker_rpc.RemoveRegistryPacket.decode(e,e.uint32());break;case 8:o.dataExecute=s.webworker_rpc.ExecutePacket.decode(e,e.uint32());break;case 9:o.dataResponse=s.webworker_rpc.ResponsePacket.decode(e,e.uint32());break;case 10:o.dataUnlink=s.webworker_rpc.UnlinkPacket.decode(e,e.uint32());break;case 11:o.dataDestroyManager=s.webworker_rpc.DestroyManagerPacket.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!o.hasOwnProperty("key"))throw a.ProtocolError("missing required \'key\'",{instance:o});return o},r.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},r.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var r={};if(!a.isString(e.key))return"key: string expected";if(null!=e.dataLink&&e.hasOwnProperty("dataLink")&&(r.data=1,t=s.webworker_rpc.LinkPacket.verify(e.dataLink)))return"dataLink."+t;if(null!=e.dataRequestLink&&e.hasOwnProperty("dataRequestLink")){if(1===r.data)return"data: multiple values";if(r.data=1,t=s.webworker_rpc.RequestLinkPacket.verify(e.dataRequestLink))return"dataRequestLink."+t}if(null!=e.dataProxyCreateWorker&&e.hasOwnProperty("dataProxyCreateWorker")){if(1===r.data)return"data: multiple values";if(r.data=1,t=s.webworker_rpc.ProxyCreateWorkerPacket.verify(e.dataProxyCreateWorker))return"dataProxyCreateWorker."+t}if(null!=e.dataAddRegistry&&e.hasOwnProperty("dataAddRegistry")){if(1===r.data)return"data: multiple values";if(r.data=1,t=s.webworker_rpc.AddRegistryPacket.verify(e.dataAddRegistry))return"dataAddRegistry."+t}if(null!=e.dataGotRegistry&&e.hasOwnProperty("dataGotRegistry")){if(1===r.data)return"data: multiple values";if(r.data=1,t=s.webworker_rpc.GotRegistryPacket.verify(e.dataGotRegistry))return"dataGotRegistry."+t}if(null!=e.dataRemoveRegistry&&e.hasOwnProperty("dataRemoveRegistry")){if(1===r.data)return"data: multiple values";if(r.data=1,t=s.webworker_rpc.RemoveRegistryPacket.verify(e.dataRemoveRegistry))return"dataRemoveRegistry."+t}if(null!=e.dataExecute&&e.hasOwnProperty("dataExecute")){if(1===r.data)return"data: multiple values";if(r.data=1,t=s.webworker_rpc.ExecutePacket.verify(e.dataExecute))return"dataExecute."+t}if(null!=e.dataResponse&&e.hasOwnProperty("dataResponse")){if(1===r.data)return"data: multiple values";if(r.data=1,t=s.webworker_rpc.ResponsePacket.verify(e.dataResponse))return"dataResponse."+t}if(null!=e.dataUnlink&&e.hasOwnProperty("dataUnlink")){if(1===r.data)return"data: multiple values";if(r.data=1,t=s.webworker_rpc.UnlinkPacket.verify(e.dataUnlink))return"dataUnlink."+t}if(null!=e.dataDestroyManager&&e.hasOwnProperty("dataDestroyManager")){if(1===r.data)return"data: multiple values";var t;if(r.data=1,t=s.webworker_rpc.DestroyManagerPacket.verify(e.dataDestroyManager))return"dataDestroyManager."+t}return null},r.fromObject=function(e){if(e instanceof s.webworker_rpc.WebWorkerMessage)return e;var r=new s.webworker_rpc.WebWorkerMessage;if(null!=e.key&&(r.key=String(e.key)),null!=e.dataLink){if("object"!=typeof e.dataLink)throw TypeError(".webworker_rpc.WebWorkerMessage.dataLink: object expected");r.dataLink=s.webworker_rpc.LinkPacket.fromObject(e.dataLink)}if(null!=e.dataRequestLink){if("object"!=typeof e.dataRequestLink)throw TypeError(".webworker_rpc.WebWorkerMessage.dataRequestLink: object expected");r.dataRequestLink=s.webworker_rpc.RequestLinkPacket.fromObject(e.dataRequestLink)}if(null!=e.dataProxyCreateWorker){if("object"!=typeof e.dataProxyCreateWorker)throw TypeError(".webworker_rpc.WebWorkerMessage.dataProxyCreateWorker: object expected");r.dataProxyCreateWorker=s.webworker_rpc.ProxyCreateWorkerPacket.fromObject(e.dataProxyCreateWorker)}if(null!=e.dataAddRegistry){if("object"!=typeof e.dataAddRegistry)throw TypeError(".webworker_rpc.WebWorkerMessage.dataAddRegistry: object expected");r.dataAddRegistry=s.webworker_rpc.AddRegistryPacket.fromObject(e.dataAddRegistry)}if(null!=e.dataGotRegistry){if("object"!=typeof e.dataGotRegistry)throw TypeError(".webworker_rpc.WebWorkerMessage.dataGotRegistry: object expected");r.dataGotRegistry=s.webworker_rpc.GotRegistryPacket.fromObject(e.dataGotRegistry)}if(null!=e.dataRemoveRegistry){if("object"!=typeof e.dataRemoveRegistry)throw TypeError(".webworker_rpc.WebWorkerMessage.dataRemoveRegistry: object expected");r.dataRemoveRegistry=s.webworker_rpc.RemoveRegistryPacket.fromObject(e.dataRemoveRegistry)}if(null!=e.dataExecute){if("object"!=typeof e.dataExecute)throw TypeError(".webworker_rpc.WebWorkerMessage.dataExecute: object expected");r.dataExecute=s.webworker_rpc.ExecutePacket.fromObject(e.dataExecute)}if(null!=e.dataResponse){if("object"!=typeof e.dataResponse)throw TypeError(".webworker_rpc.WebWorkerMessage.dataResponse: object expected");r.dataResponse=s.webworker_rpc.ResponsePacket.fromObject(e.dataResponse)}if(null!=e.dataUnlink){if("object"!=typeof e.dataUnlink)throw TypeError(".webworker_rpc.WebWorkerMessage.dataUnlink: object expected");r.dataUnlink=s.webworker_rpc.UnlinkPacket.fromObject(e.dataUnlink)}if(null!=e.dataDestroyManager){if("object"!=typeof e.dataDestroyManager)throw TypeError(".webworker_rpc.WebWorkerMessage.dataDestroyManager: object expected");r.dataDestroyManager=s.webworker_rpc.DestroyManagerPacket.fromObject(e.dataDestroyManager)}return r},r.toObject=function(e,r){r||(r={});var t={};return r.defaults&&(t.key=""),null!=e.key&&e.hasOwnProperty("key")&&(t.key=e.key),null!=e.dataLink&&e.hasOwnProperty("dataLink")&&(t.dataLink=s.webworker_rpc.LinkPacket.toObject(e.dataLink,r),r.oneofs&&(t.data="dataLink")),null!=e.dataRequestLink&&e.hasOwnProperty("dataRequestLink")&&(t.dataRequestLink=s.webworker_rpc.RequestLinkPacket.toObject(e.dataRequestLink,r),r.oneofs&&(t.data="dataRequestLink")),null!=e.dataProxyCreateWorker&&e.hasOwnProperty("dataProxyCreateWorker")&&(t.dataProxyCreateWorker=s.webworker_rpc.ProxyCreateWorkerPacket.toObject(e.dataProxyCreateWorker,r),r.oneofs&&(t.data="dataProxyCreateWorker")),null!=e.dataAddRegistry&&e.hasOwnProperty("dataAddRegistry")&&(t.dataAddRegistry=s.webworker_rpc.AddRegistryPacket.toObject(e.dataAddRegistry,r),r.oneofs&&(t.data="dataAddRegistry")),null!=e.dataGotRegistry&&e.hasOwnProperty("dataGotRegistry")&&(t.dataGotRegistry=s.webworker_rpc.GotRegistryPacket.toObject(e.dataGotRegistry,r),r.oneofs&&(t.data="dataGotRegistry")),null!=e.dataRemoveRegistry&&e.hasOwnProperty("dataRemoveRegistry")&&(t.dataRemoveRegistry=s.webworker_rpc.RemoveRegistryPacket.toObject(e.dataRemoveRegistry,r),r.oneofs&&(t.data="dataRemoveRegistry")),null!=e.dataExecute&&e.hasOwnProperty("dataExecute")&&(t.dataExecute=s.webworker_rpc.ExecutePacket.toObject(e.dataExecute,r),r.oneofs&&(t.data="dataExecute")),null!=e.dataResponse&&e.hasOwnProperty("dataResponse")&&(t.dataResponse=s.webworker_rpc.ResponsePacket.toObject(e.dataResponse,r),r.oneofs&&(t.data="dataResponse")),null!=e.dataUnlink&&e.hasOwnProperty("dataUnlink")&&(t.dataUnlink=s.webworker_rpc.UnlinkPacket.toObject(e.dataUnlink,r),r.oneofs&&(t.data="dataUnlink")),null!=e.dataDestroyManager&&e.hasOwnProperty("dataDestroyManager")&&(t.dataDestroyManager=s.webworker_rpc.DestroyManagerPacket.toObject(e.dataDestroyManager,r),r.oneofs&&(t.data="dataDestroyManager")),t},r.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},r}(),o),s})?o.apply(r,n):o)||(e.exports=i)},function(e,r,t){"use strict";(function(e){var o=r;function n(e,r,t){for(var o=Object.keys(r),n=0;n<o.length;++n)void 0!==e[o[n]]&&t||(e[o[n]]=r[o[n]]);return e}function i(e){function r(e,t){if(!(this instanceof r))return new r(e,t);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,r):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),t&&n(this,t)}return(r.prototype=Object.create(Error.prototype)).constructor=r,Object.defineProperty(r.prototype,"name",{get:function(){return e}}),r.prototype.toString=function(){return this.name+": "+this.message},r}o.asPromise=t(7),o.base64=t(8),o.EventEmitter=t(9),o.float=t(10),o.inquire=t(11),o.utf8=t(12),o.pool=t(13),o.LongBits=t(14),o.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),o.global=o.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},o.isString=function(e){return"string"==typeof e||e instanceof String},o.isObject=function(e){return e&&"object"==typeof e},o.isset=o.isSet=function(e,r){var t=e[r];return!(null==t||!e.hasOwnProperty(r))&&("object"!=typeof t||(Array.isArray(t)?t.length:Object.keys(t).length)>0)},o.Buffer=function(){try{var e=o.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function(e){return"number"==typeof e?o.Buffer?o._Buffer_allocUnsafe(e):new o.Array(e):o.Buffer?o._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},o.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(e){return e?o.LongBits.from(e).toHash():o.LongBits.zeroHash},o.longFromHash=function(e,r){var t=o.LongBits.fromHash(e);return o.Long?o.Long.fromBits(t.lo,t.hi,r):t.toNumber(Boolean(r))},o.merge=n,o.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},o.newError=i,o.ProtocolError=i("ProtocolError"),o.oneOfGetter=function(e){for(var r={},t=0;t<e.length;++t)r[e[t]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;t>-1;--t)if(1===r[e[t]]&&void 0!==this[e[t]]&&null!==this[e[t]])return e[t]}},o.oneOfSetter=function(e){return function(r){for(var t=0;t<e.length;++t)e[t]!==r&&delete this[e[t]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var e=o.Buffer;e?(o._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,t){return new e(r,t)},o._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}):o._Buffer_from=o._Buffer_allocUnsafe=null}}).call(this,t(6))},function(e,r,t){"use strict";e.exports=f;var o,n=t(1),i=n.LongBits,a=n.base64,s=n.utf8;function c(e,r,t){this.fn=e,this.len=r,this.next=void 0,this.val=t}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var p=function(){return n.Buffer?function(){return(f.create=function(){return new o})()}:function(){return new f}};function d(e,r,t){r[t]=255&e}function h(e,r){this.len=e,this.next=void 0,this.val=r}function w(e,r,t){for(;e.hi;)r[t++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)r[t++]=127&e.lo|128,e.lo=e.lo>>>7;r[t++]=e.lo}function y(e,r,t){r[t]=255&e,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24}f.create=p(),f.alloc=function(e){return new n.Array(e)},n.Array!==Array&&(f.alloc=n.pool(f.alloc,n.Array.prototype.subarray)),f.prototype._push=function(e,r,t){return this.tail=this.tail.next=new c(e,r,t),this.len+=r,this},h.prototype=Object.create(c.prototype),h.prototype.fn=function(e,r,t){for(;e>127;)r[t++]=127&e|128,e>>>=7;r[t]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(w,10,i.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var r=i.from(e);return this._push(w,r.length(),r)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var r=i.from(e).zzEncode();return this._push(w,r.length(),r)},f.prototype.bool=function(e){return this._push(d,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var r=i.from(e);return this._push(y,4,r.lo)._push(y,4,r.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(n.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(n.float.writeDoubleLE,8,e)};var k=n.Array.prototype.set?function(e,r,t){r.set(e,t)}:function(e,r,t){for(var o=0;o<e.length;++o)r[t+o]=e[o]};f.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(d,1,0);if(n.isString(e)){var t=f.alloc(r=a.length(e));a.decode(e,t,0),e=t}return this.uint32(r)._push(k,r,e)},f.prototype.string=function(e){var r=s.length(e);return r?this.uint32(r)._push(s.write,r,e):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,r=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=e.next,this.tail=r,this.len+=t),this},f.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),t=0;e;)e.fn(e.val,r,t),t+=e.len,e=e.next;return r},f._configure=function(e){o=e,f.create=p(),o._configure()}},function(e,r,t){"use strict";e.exports=c;var o,n=t(1),i=n.LongBits,a=n.utf8;function s(e,r){return RangeError("index out of range: "+e.pos+" + "+(r||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},f=function(){return n.Buffer?function(e){return(c.create=function(e){return n.Buffer.isBuffer(e)?new o(e):l(e)})(e)}:l};function p(){var e=new i(0,0),r=0;if(!(this.len-this.pos>4)){for(;r<3;++r){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*r)>>>0,e}for(;r<4;++r)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(r=0,this.len-this.pos>4){for(;r<5;++r)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return e}else for(;r<5;++r){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,r){return(e[r-4]|e[r-3]<<8|e[r-2]<<16|e[r-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new i(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}c.create=f(),c.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return d(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|d(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),r=this.pos,t=this.pos+e;if(t>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,t):r===t?new this.buf.constructor(0):this._slice.call(this.buf,r,t)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){o=e,c.create=f(),o._configure();var r=n.Long?"toLong":"toNumber";n.merge(c.prototype,{int64:function(){return p.call(this)[r](!1)},uint64:function(){return p.call(this)[r](!0)},sint64:function(){return p.call(this).zzDecode()[r](!1)},fixed64:function(){return h.call(this)[r](!0)},sfixed64:function(){return h.call(this)[r](!1)}})}},function(e,r,t){"use strict";e.exports=t(5)},function(e,r,t){"use strict";var o=r;function n(){o.util._configure(),o.Writer._configure(o.BufferWriter),o.Reader._configure(o.BufferReader)}o.build="minimal",o.Writer=t(2),o.BufferWriter=t(15),o.Reader=t(3),o.BufferReader=t(16),o.util=t(1),o.rpc=t(17),o.roots=t(19),o.configure=n,n()},function(e,r){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,r,t){"use strict";e.exports=function(e,r){var t=new Array(arguments.length-1),o=0,n=2,i=!0;for(;n<arguments.length;)t[o++]=arguments[n++];return new Promise((function(n,a){t[o]=function(e){if(i)if(i=!1,e)a(e);else{for(var r=new Array(arguments.length-1),t=0;t<r.length;)r[t++]=arguments[t];n.apply(null,r)}};try{e.apply(r||null,t)}catch(e){i&&(i=!1,a(e))}}))}},function(e,r,t){"use strict";var o=r;o.length=function(e){var r=e.length;if(!r)return 0;for(var t=0;--r%4>1&&"="===e.charAt(r);)++t;return Math.ceil(3*e.length)/4-t};for(var n=new Array(64),i=new Array(123),a=0;a<64;)i[n[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;o.encode=function(e,r,t){for(var o,i=null,a=[],s=0,c=0;r<t;){var u=e[r++];switch(c){case 0:a[s++]=n[u>>2],o=(3&u)<<4,c=1;break;case 1:a[s++]=n[o|u>>4],o=(15&u)<<2,c=2;break;case 2:a[s++]=n[o|u>>6],a[s++]=n[63&u],c=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=n[o],a[s++]=61,1===c&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};o.decode=function(e,r,t){for(var o,n=t,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&a>1)break;if(void 0===(c=i[c]))throw Error("invalid encoding");switch(a){case 0:o=c,a=1;break;case 1:r[t++]=o<<2|(48&c)>>4,o=c,a=2;break;case 2:r[t++]=(15&o)<<4|(60&c)>>2,o=c,a=3;break;case 3:r[t++]=(3&o)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return t-n},o.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,r,t){"use strict";function o(){this._listeners={}}e.exports=o,o.prototype.on=function(e,r,t){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:t||this}),this},o.prototype.off=function(e,r){if(void 0===e)this._listeners={};else if(void 0===r)this._listeners[e]=[];else for(var t=this._listeners[e],o=0;o<t.length;)t[o].fn===r?t.splice(o,1):++o;return this},o.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var t=[],o=1;o<arguments.length;)t.push(arguments[o++]);for(o=0;o<r.length;)r[o].fn.apply(r[o++].ctx,t)}return this}},function(e,r,t){"use strict";function o(e){return"undefined"!=typeof Float32Array?function(){var r=new Float32Array([-0]),t=new Uint8Array(r.buffer),o=128===t[3];function n(e,o,n){r[0]=e,o[n]=t[0],o[n+1]=t[1],o[n+2]=t[2],o[n+3]=t[3]}function i(e,o,n){r[0]=e,o[n]=t[3],o[n+1]=t[2],o[n+2]=t[1],o[n+3]=t[0]}function a(e,o){return t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],r[0]}function s(e,o){return t[3]=e[o],t[2]=e[o+1],t[1]=e[o+2],t[0]=e[o+3],r[0]}e.writeFloatLE=o?n:i,e.writeFloatBE=o?i:n,e.readFloatLE=o?a:s,e.readFloatBE=o?s:a}():function(){function r(e,r,t,o){var n=r<0?1:0;if(n&&(r=-r),0===r)e(1/r>0?0:2147483648,t,o);else if(isNaN(r))e(2143289344,t,o);else if(r>34028234663852886e22)e((n<<31|2139095040)>>>0,t,o);else if(r<11754943508222875e-54)e((n<<31|Math.round(r/1401298464324817e-60))>>>0,t,o);else{var i=Math.floor(Math.log(r)/Math.LN2);e((n<<31|i+127<<23|8388607&Math.round(r*Math.pow(2,-i)*8388608))>>>0,t,o)}}function t(e,r,t){var o=e(r,t),n=2*(o>>31)+1,i=o>>>23&255,a=8388607&o;return 255===i?a?NaN:n*(1/0):0===i?1401298464324817e-60*n*a:n*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=r.bind(null,n),e.writeFloatBE=r.bind(null,i),e.readFloatLE=t.bind(null,a),e.readFloatBE=t.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var r=new Float64Array([-0]),t=new Uint8Array(r.buffer),o=128===t[7];function n(e,o,n){r[0]=e,o[n]=t[0],o[n+1]=t[1],o[n+2]=t[2],o[n+3]=t[3],o[n+4]=t[4],o[n+5]=t[5],o[n+6]=t[6],o[n+7]=t[7]}function i(e,o,n){r[0]=e,o[n]=t[7],o[n+1]=t[6],o[n+2]=t[5],o[n+3]=t[4],o[n+4]=t[3],o[n+5]=t[2],o[n+6]=t[1],o[n+7]=t[0]}function a(e,o){return t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],t[4]=e[o+4],t[5]=e[o+5],t[6]=e[o+6],t[7]=e[o+7],r[0]}function s(e,o){return t[7]=e[o],t[6]=e[o+1],t[5]=e[o+2],t[4]=e[o+3],t[3]=e[o+4],t[2]=e[o+5],t[1]=e[o+6],t[0]=e[o+7],r[0]}e.writeDoubleLE=o?n:i,e.writeDoubleBE=o?i:n,e.readDoubleLE=o?a:s,e.readDoubleBE=o?s:a}():function(){function r(e,r,t,o,n,i){var a=o<0?1:0;if(a&&(o=-o),0===o)e(0,n,i+r),e(1/o>0?0:2147483648,n,i+t);else if(isNaN(o))e(0,n,i+r),e(2146959360,n,i+t);else if(o>17976931348623157e292)e(0,n,i+r),e((a<<31|2146435072)>>>0,n,i+t);else{var s;if(o<22250738585072014e-324)e((s=o/5e-324)>>>0,n,i+r),e((a<<31|s/4294967296)>>>0,n,i+t);else{var c=Math.floor(Math.log(o)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=o*Math.pow(2,-c))>>>0,n,i+r),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,n,i+t)}}}function t(e,r,t,o,n){var i=e(o,n+r),a=e(o,n+t),s=2*(a>>31)+1,c=a>>>20&2047,u=4294967296*(1048575&a)+i;return 2047===c?u?NaN:s*(1/0):0===c?5e-324*s*u:s*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=r.bind(null,n,0,4),e.writeDoubleBE=r.bind(null,i,4,0),e.readDoubleLE=t.bind(null,a,0,4),e.readDoubleBE=t.bind(null,s,4,0)}(),e}function n(e,r,t){r[t]=255&e,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24}function i(e,r,t){r[t]=e>>>24,r[t+1]=e>>>16&255,r[t+2]=e>>>8&255,r[t+3]=255&e}function a(e,r){return(e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24)>>>0}function s(e,r){return(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])>>>0}e.exports=o(o)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,r,t){"use strict";var o=r;o.length=function(e){for(var r=0,t=0,o=0;o<e.length;++o)(t=e.charCodeAt(o))<128?r+=1:t<2048?r+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(o+1))?(++o,r+=4):r+=3;return r},o.read=function(e,r,t){if(t-r<1)return"";for(var o,n=null,i=[],a=0;r<t;)(o=e[r++])<128?i[a++]=o:o>191&&o<224?i[a++]=(31&o)<<6|63&e[r++]:o>239&&o<365?(o=((7&o)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,i[a++]=55296+(o>>10),i[a++]=56320+(1023&o)):i[a++]=(15&o)<<12|(63&e[r++])<<6|63&e[r++],a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,i)),a=0);return n?(a&&n.push(String.fromCharCode.apply(String,i.slice(0,a))),n.join("")):String.fromCharCode.apply(String,i.slice(0,a))},o.write=function(e,r,t){for(var o,n,i=t,a=0;a<e.length;++a)(o=e.charCodeAt(a))<128?r[t++]=o:o<2048?(r[t++]=o>>6|192,r[t++]=63&o|128):55296==(64512&o)&&56320==(64512&(n=e.charCodeAt(a+1)))?(o=65536+((1023&o)<<10)+(1023&n),++a,r[t++]=o>>18|240,r[t++]=o>>12&63|128,r[t++]=o>>6&63|128,r[t++]=63&o|128):(r[t++]=o>>12|224,r[t++]=o>>6&63|128,r[t++]=63&o|128);return t-i}},function(e,r,t){"use strict";e.exports=function(e,r,t){var o=t||8192,n=o>>>1,i=null,a=o;return function(t){if(t<1||t>n)return e(t);a+t>o&&(i=e(o),a=0);var s=r.call(i,a,a+=t);return 7&a&&(a=1+(7|a)),s}}},function(e,r,t){"use strict";e.exports=n;var o=t(1);function n(e,r){this.lo=e>>>0,this.hi=r>>>0}var i=n.zero=new n(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=n.zeroHash="\\0\\0\\0\\0\\0\\0\\0\\0";n.fromNumber=function(e){if(0===e)return i;var r=e<0;r&&(e=-e);var t=e>>>0,o=(e-t)/4294967296>>>0;return r&&(o=~o>>>0,t=~t>>>0,++t>4294967295&&(t=0,++o>4294967295&&(o=0))),new n(t,o)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(o.isString(e)){if(!o.Long)return n.fromNumber(parseInt(e,10));e=o.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):i},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=1+~this.lo>>>0,t=~this.hi>>>0;return r||(t=t+1>>>0),-(r+4294967296*t)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return o.Long?new o.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;n.fromHash=function(e){return e===a?i:new n((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return 0===t?0===r?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:t<128?9:10}},function(e,r,t){"use strict";e.exports=i;var o=t(2);(i.prototype=Object.create(o.prototype)).constructor=i;var n=t(1);function i(){o.call(this)}function a(e,r,t){e.length<40?n.utf8.write(e,r,t):r.utf8Write?r.utf8Write(e,t):r.write(e,t)}i._configure=function(){i.alloc=n._Buffer_allocUnsafe,i.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(e,r,t){r.set(e,t)}:function(e,r,t){if(e.copy)e.copy(r,t,0,e.length);else for(var o=0;o<e.length;)r[t++]=e[o++]}},i.prototype.bytes=function(e){n.isString(e)&&(e=n._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(i.writeBytesBuffer,r,e),this},i.prototype.string=function(e){var r=n.Buffer.byteLength(e);return this.uint32(r),r&&this._push(a,r,e),this},i._configure()},function(e,r,t){"use strict";e.exports=i;var o=t(3);(i.prototype=Object.create(o.prototype)).constructor=i;var n=t(1);function i(e){o.call(this,e)}i._configure=function(){n.Buffer&&(i.prototype._slice=n.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},function(e,r,t){"use strict";r.Service=t(18)},function(e,r,t){"use strict";e.exports=n;var o=t(1);function n(e,r,t){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");o.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(r),this.responseDelimited=Boolean(t)}(n.prototype=Object.create(o.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(r,t,n,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return o.asPromise(e,s,r,t,n,i);if(s.rpcImpl)try{return s.rpcImpl(r,t[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,t){if(e)return s.emit("error",e,r),a(e);if(null!==t){if(!(t instanceof n))try{t=n[s.responseDelimited?"decodeDelimited":"decode"](t)}catch(e){return s.emit("error",e,r),a(e)}return s.emit("data",t,r),a(null,t)}s.end(!0)}))}catch(e){return s.emit("error",e,r),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,r,t){"use strict";e.exports={}},function(e,r,t){"use strict";t.r(r),t.d(r,"webworker_rpc",(function(){return o.webworker_rpc})),t.d(r,"RPCEmitter",(function(){return N})),t.d(r,"RPCPeer",(function(){return j})),t.d(r,"LinkListener",(function(){return S})),t.d(r,"Export",(function(){return m})),t.d(r,"RemoteListener",(function(){return x})),t.d(r,"RPCData",(function(){return s}));var o=t(0),n=function(){function e(){var e=this;this.resolver=null,this.rejecter=null,this.set=function(r,t){if(void 0===t&&(t=null),e.resolver){var o=new Error("Resolver already exists");if(t)return t(o);throw o}e.resolver=r,e.rejecter=t},this.promise=function(r){return new Promise((function(t,o){if(e.set(t,o),r)try{r()}catch(r){e.reject(r)}}))},this.resolve=function(r){if(!e.resolver){var t=new Error("No Resolver");if(e.rejecter)return e.rejecter(t);throw t}e.resolver(r),e.resolver=null,e.rejecter=null},this.reject=function(r){if(!e.rejecter)throw r;e.rejecter(r),e.resolver=null,e.rejecter=null}}return e.create=function(){return new e},e}(),i=function(){function e(e){this.data=new o.webworker_rpc.Param(e)}return e.createByValue=function(r){if(null==r)return new e({t:o.webworker_rpc.ParamType.custom,className:null===r?"null":"undefined"});if("string"==typeof r)return new e({t:o.webworker_rpc.ParamType.str,valStr:r});if("boolean"==typeof r)return new e({t:o.webworker_rpc.ParamType.boolean,valBool:r});if("number"==typeof r)return new e({t:o.webworker_rpc.ParamType.num,valNum:r});if(r.constructor===Uint8Array)return new e({t:o.webworker_rpc.ParamType.unit8array,valBytes:r});if(r instanceof o.webworker_rpc.Executor)return new e({t:o.webworker_rpc.ParamType.executor,valExecutor:r});var t=r.constructor.name;if(j.msgTransType===R.Transferable||j.msgTransType===R.SharedArrayBuffer){if(!a.has(t))return console.error(t+" not use @RPCData"),new e({t:o.webworker_rpc.ParamType.custom,className:"null"});var n=a.get(t).encode(r);return new e({t:o.webworker_rpc.ParamType.custom,valStr:n,className:t})}var i=new e({t:o.webworker_rpc.ParamType.custom,className:t});return i.data.valCustom=r,i},e.prototype.getValue=function(){switch(this.data.t){case o.webworker_rpc.ParamType.custom:if("null"===this.data.className)return null;if("undefined"===this.data.className)return;return j.msgTransType===R.Transferable||j.msgTransType===R.SharedArrayBuffer?a.has(this.data.className)?a.get(this.data.className).decode(this.data.valStr):(console.error(this.data.className+" not use @RPCData"),null):this.data.valCustom;default:return this.data[this.data.val]}},e}(),a=new Map;function s(){return function(e){return e.encode||(e.encode=u.encode),e.decode||(e.decode=u.decode),a.set(e.name,e),e}}var c,u=function(){function e(){}return e.encode=function(e){return JSON.stringify(e)},e.decode=function(e){return JSON.parse(e)},e}(),l=function(e){if("undefined"!=typeof MessageChannel){var r=new Map,t=null,o=function(e,o){r.has(e)||(0===r.size&&(t=o),r.set(e,o),o.onmessage=function(e){var r=e.data.key;if(null!=r)switch(r){case"requestLink":n(e);break;case"unlink":i(e);break;case"destroyManager":a(e)}})},n=function(e){var n=e.data.dataRequestLink,i=n.serviceName,a=n.workerName,s=n.workerUrl,c=new MessageChannel;if(r.has(i))if(r.get(i).postMessage({key:"link",dataLink:{workers:[a]}},[c.port1]),r.has(a))r.get(a).postMessage({key:"link",dataLink:{workers:[i]}},[c.port2]);else{if(null==s)return void console.error("webworker-rpc: worker url undefined");var u=new MessageChannel;if(null==t)return;t.postMessage({key:"proxyCreateWorker",dataProxyCreateWorker:{workerName:a,workerUrl:s,msg:{key:"link",dataLink:{workers:["__MANAGER",i]}}}},[u.port2,c.port2]),o(a,u.port1)}else console.error("webworker-rpc: __MANAGER not yet link to "+i)},i=function(e){var t=e.data.dataUnlink.serviceName;r.has(t)&&r.delete(t)},a=function(e){e.data.dataDestroyManager.serviceName;for(var t=0,o=Array.from(r.keys());t<o.length;t++){var n=o[t];r.get(n).postMessage({key:"unlink",dataUnlink:{serviceName:"__MANAGER"}})}console.log("webworker-rpc: manager worker closed"),self.close()};switch(e.data.key){case"link":!function(e){for(var r=e.data.dataLink.workers,t=e.ports,n=0;n<t.length;n++){var i=t[n],a=r[n];o(a,i)}}(e)}}else console.error("webworker-rpc: MessageChannel undefined")},f=(c=function(e,r){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)},function(e,r){function t(){this.constructor=e}c(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),p=function(e,r,t,o){var n,i=arguments.length,a=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,t,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(r,t,a):n(r,t))||a);return i>3&&a&&Object.defineProperty(r,t,a),a},d=function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)},h=Math.floor(100*Math.random()),w=new Map,y=new Map,k=[],b=new Map,g=function(e,r,t,o){var n="function"==typeof e?e.name+".constructor":e.constructor.name,a=[];if(null!=o)for(var s=0,c=o;s<c.length;s++){var u=c[s];a.push(new i({t:u}).data)}v({method:r,context:n,params:a})},v=function(e){w.has(e.context)||w.set(e.context,[]);var r=w.get(e.context);return r.findIndex((function(r){return r.method===e.method}))<0&&(r.push(e),!0)};function m(e){return function(r,t,o){null!=o?g(r,t,0,e):null!=t?function(e,r){var t="function"==typeof e?e.name+".constructor":e.constructor.name;b.has(t)||b.set(t,[]),b.get(t).push(r)}(r,t):function(e){k.indexOf(e.name)>=0||k.push(e.name)}(r)}}var _=new Map;function x(e,r,t,n){return function(a,s,c){g(a,s,0,n);var u="function"==typeof a?a.name+".constructor":a.constructor.name,l=[];if(null!=n)for(var f=0,p=n;f<p.length;f++){var d=p[f];l.push(new i({t:d}).data)}var h=null;h=l.length>0?new o.webworker_rpc.Executor({method:s,context:u,params:l}):new o.webworker_rpc.Executor({method:s,context:u}),_.has(e)||_.set(e,[]),_.get(e).push({context:r,event:t,executor:h})}}var P=["prototype","__proto__","self","worker","remote","getInstance","_instance"],O=["destroy"];function E(){return function(e,r,t){for(var o in e)P.includes(o)||P.push(o);for(var n=0,i=e.constructor;n<i.length;n++){o=i[n];P.includes(o)||P.push(o)}}}var R,N=function(){function e(){this.emitFunctions=new Map,y.set(this.constructor.name,this),this.checkSuperExport()}return e.prototype.on=function(e,r,t){this.emitFunctions.has(e)||this.emitFunctions.set(e,[]),this.emitFunctions.get(e).push({worker:t,executor:r})},e.prototype.off=function(e,r,t){if(this.emitFunctions.has(e))if(r&&t&&"string"==typeof t){var o=this.emitFunctions.get(e),n=o.findIndex((function(e){return e.worker===t&&e.executor===r}));n>0&&o.splice(n,1)}else this.emitFunctions.delete(e)},e.prototype.emit=function(e){for(var r,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(this.emitFunctions.has(e))if(j.getInstance())for(var n=this.emitFunctions.get(e),i=0,a=n;i<a.length;i++){var s=a[i];s.worker in j.getInstance().remote&&(r=j.getInstance().remote[s.worker][s.executor.context])[s.executor.method].apply(r,t)}else console.error("webworker-rpc: no peer created")},e.prototype.checkSuperExport=function(){for(var e=this.constructor.name,r=e+".constructor",t=Object.getPrototypeOf(this),o=Object.getPrototypeOf(t).constructor.name,n=o+".constructor";"Object"!==o;){if(w.has(o)){for(var i=0,a=c=w.get(o);i<a.length;i++){a[i].context=e}w.delete(o);var s=w.get(e)||[];w.set(e,s.concat(c))}if(w.has(n)){for(var c,u=0,l=c=w.get(n);u<l.length;u++){l[u].context=r}w.delete(n);s=w.get(r)||[];w.set(r,s.concat(c))}if(b.has(o)){var f=b.get(o);b.delete(o);var p=b.get(e)||[];b.set(e,p.concat(f))}if(b.has(n)){f=b.get(n);b.delete(n);p=b.get(r)||[];b.set(r,p.concat(f))}var d=k.indexOf(o);d>=0&&(k.splice(d,1),k.push(e));var h=k.indexOf(n);h>=0&&(k.splice(h,1),k.push(r)),t=Object.getPrototypeOf(t),n=(o=Object.getPrototypeOf(t).constructor.name)+".constructor"}},p([m([o.webworker_rpc.ParamType.str,o.webworker_rpc.ParamType.executor,o.webworker_rpc.ParamType.str]),E(),d("design:type",Function),d("design:paramtypes",[String,Object,String]),d("design:returntype",void 0)],e.prototype,"on",null),p([m([o.webworker_rpc.ParamType.str]),d("design:type",Function),d("design:paramtypes",[String,Object,String]),d("design:returntype",void 0)],e.prototype,"off",null),e}();!function(e){e[e.Obj=0]="Obj",e[e.Transferable=1]="Transferable",e[e.SharedArrayBuffer=2]="SharedArrayBuffer"}(R||(R={}));var j=function(e){function r(t){var n=e.call(this)||this;return n.MESSAGEKEY_LINK="link",n.MESSAGEKEY_REQUEST_LINK="requestLink",n.MESSAGEKEY_PROXY_CREATE_WORKER="proxyCreateWorker",n.MESSAGEKEY_ADD_REGISTRY="addRegistry",n.MESSAGEKEY_GOT_REGISTRY="gotRegistry",n.MESSAGEKEY_REMOVE_REGISTRY="removeRegistry",n.MESSAGEKEY_EXECUTE="execute",n.MESSAGEKEY_RESPOND="respond",n.MESSAGEKEY_UNLINK="unlink",n.MESSAGEKEY_DESTROY_MANAGER="destroyManager",n.exported=!1,"undefined"==typeof MessageChannel?(console.error("webworker-rpc: MessageChannel undefined"),n):(r.msgTransType===R.SharedArrayBuffer&&"undefined"==typeof SharedArrayBuffer&&(console.warn("webworker-rpc: SharedArrayBuffer is undefined, use ArrayBuffer instead"),r.msgTransType=R.Obj),null==t?(console.error("webworker-rpc: param [name] error"),n):r._instance?(console.error("webworker-rpc: duplicate RPCPeer created: "+t+" & "+r._instance.name),n):(r._instance=n,console.log("webworker-rpc: new peer: ",h,t),n.name=t,n.worker=self,n.registry=new Map,n.channels=new Map,n.linkListeners=new Map,n.linkTasks=[],n.resolvers=new Map,n.registryPackID=0,n.resolverID=0,n.syncRegistryListeners=new Map,n.worker.addEventListener("message",(function(e){var t,i=(t=r.msgTransType===R.SharedArrayBuffer&&e.data instanceof SharedArrayBuffer||r.msgTransType===R.Transferable&&e.data instanceof ArrayBuffer?o.webworker_rpc.WebWorkerMessage.decode(new Uint8Array(e.data)):e.data).key;void 0!==i&&i===n.MESSAGEKEY_LINK&&n.onMessage_Link(t.dataLink,[].concat(e.ports))})),n))}return f(r,e),r.create=function(e){return r._instance=new r(e),r._instance},r.getInstance=function(){return r._instance},r.attach=function(e,t,o){return r._instance?r._instance.attach(e,t,o):(console.error("webworker-rpc: RPCPeer not created"),null)},Object.defineProperty(r,"remote",{get:function(){return r._instance?r._instance.remote:(console.error("webworker-rpc: RPCPeer not created"),null)},enumerable:!1,configurable:!0}),r.exportProperty=function(e,t,o){return r._instance?r._instance.exportProperty(e,t,o):(console.error("webworker-rpc: RPCPeer not created"),null)},r.cancelExportProperty=function(e,t,o){r._instance?r._instance.cancelExportProperty(e,t,o):console.error("webworker-rpc: RPCPeer not created")},r.destroy=function(){return r._instance?r._instance.destroy():(console.error("webworker-rpc: RPCPeer not created"),null)},r.destroyManagerWorker=function(){return r._instance?r._instance.destroyManagerWorker():(console.error("webworker-rpc: RPCPeer not created"),null)},r.prototype.attach=function(e,r,t,n){if(void 0===t&&(t=!1),null==n&&(n="classic"),this.linkListeners.has(e))return console.warn("webworker-rpc: already requested link to "+e),this.linkListeners.get(e);var i=new S(this.name,e);if(t){if(this.channels.has(e))return console.error("webworker-rpc: ONLY_ONE_WORKER mode, already linked "+e+"."),i;if(this.channels.size>0)return console.error("webworker-rpc: ONLY_ONE_WORKER mode cannot create another worker. ",this.channels),i;if("undefined"==typeof Worker)return console.error("webworker-rpc: "+this.name+" cannot create worker."),i;if(void 0===r||"string"==typeof r&&0===r.length)return console.error("webworker-rpc: ONLY_ONE_WORKER mode not support undefined workerUrl (besides windows)."),i;this.linkListeners.set(e,i);var a=new Worker(r,{type:n}),s=new MessageChannel,c=new o.webworker_rpc.WebWorkerMessage({key:this.MESSAGEKEY_LINK,dataLink:new o.webworker_rpc.LinkPacket({workers:[this.name]})});this.__send(c,a,!0,[s.port2]),this.addChannel(e,s.port1)}else{if(this.linkListeners.set(e,i),!this.channels.has("__MANAGER")){var u=this.worker.name;if(void 0!==u&&u===this.name)return this.linkTasks.push({workerName:e,workerUrl:r}),i;if("undefined"==typeof Worker)return void console.error("webworker-rpc: Worker undefined! can not create manager worker.");var l=this.getManagerWorkerURL(),f=new Worker(l,{type:n}),p=new MessageChannel;c=new o.webworker_rpc.WebWorkerMessage({key:this.MESSAGEKEY_LINK,dataLink:new o.webworker_rpc.LinkPacket({workers:[this.name]})});this.__send(c,f,!1,[p.port2]),this.addChannel("__MANAGER",p.port1)}var d=r instanceof URL?r.toString():r,h=new o.webworker_rpc.WebWorkerMessage({key:this.MESSAGEKEY_REQUEST_LINK,dataRequestLink:new o.webworker_rpc.RequestLinkPacket({serviceName:this.name,workerName:e,workerUrl:d})});this.__send(h,"__MANAGER",!1)}return i},r.prototype.destroyManagerWorker=function(){if(this.channels.has("__MANAGER")){var e=new o.webworker_rpc.WebWorkerMessage({key:this.MESSAGEKEY_DESTROY_MANAGER,dataDestroyManager:new o.webworker_rpc.DestroyManagerPacket({serviceName:this.name})});this.__send(e,"__MANAGER",!1)}},r.prototype.destroy=function(){for(var e=0,t=Array.from(this.channels.keys());e<t.length;e++){var n=t[e];if(_.has(n))for(var i=0,a=_.get(n);i<a.length;i++){var s=a[i];this.remote[n][s.context].off(s.event,s.executor,this.name)}var c=new o.webworker_rpc.WebWorkerMessage({key:this.MESSAGEKEY_UNLINK,dataUnlink:new o.webworker_rpc.UnlinkPacket({serviceName:this.name})});this.__send(c,n,"__MANAGER"!==n)}this.remote=null,this.worker=null,this.registry.clear(),this.channels.clear(),this.linkListeners.clear(),this.linkTasks.length=0,this.resolvers.forEach((function(e){e.reject("worker destroy")})),this.resolvers.clear(),this.syncRegistryListeners.clear(),k.length=0,y.clear(),w.clear(),b.clear(),_.clear(),void 0!==r._instance&&null!==r._instance&&(r._instance=null),console.log("webworker-rpc: "+this.name+" closed"),console.log("webworker-rpc: "+this.name+" variables check: ",this.remote,this.worker,this.registry.size,this.channels.size,this.linkListeners.size,this.linkTasks.length,this.resolvers.size,this.syncRegistryListeners.size,k.length,y.size,w.size,b.size,_.size),self.close()},r.prototype.exportProperty=function(e,t,n){if(r.debug&&console.log("webworker-rpc: "+this.name+" export: ",e,t,n),null==n)for(var i in t){if(Object.prototype.hasOwnProperty.call(t,i))t[i]===e&&(n=i)}if(0!==n.length){t[n]!==e&&(void 0!==t[n]&&null!==t[n]&&console.warn("webworker-rpc: "+n+" exist, replaced"),t[n]=e);for(var a="",s=0,c=Array.from(y.keys());s<c.length;s++){var u=c[s];if(y.get(u)===t){a=u;break}}var l=a;if(0===a.length){if(l=t.constructor.name,y.has(l))return void console.error("webworker-rpc: context name <"+l+"> exist");y.set(l,t)}var f=this.getExcutors(e,l,n),p=Array.from(this.channels.keys());this.registryPackID++;var d=new A(this.registryPackID,p);this.syncRegistryListeners.set(this.registryPackID,d);for(var h=0,w=p;h<w.length;h++){u=w[h];this.postRegistry(u,new o.webworker_rpc.AddRegistryPacket({id:this.registryPackID,serviceName:this.name,executors:f}))}return d}console.error("webworker-rpc: "+e+" is not in "+t)},r.prototype.cancelExportProperty=function(e,t,n){r.debug&&console.log("webworker-rpc: "+this.name+" cancel export: ",e,t,n);var i=!0;if(null==n)for(var a in i=!1,t){if(Object.prototype.hasOwnProperty.call(t,a))t[a]===e&&(n=a)}if(0!==n.length){for(var s="",c=0,u=Array.from(y.keys());c<u.length;c++){var l=u[c];if(y.get(l)===t){s=l;break}}if(0!==s.length){for(var f=this.getExcutors(e,s,n),p=0,d=Array.from(this.channels.keys());p<d.length;p++){l=d[p];this.cancelRegistry(l,new o.webworker_rpc.RemoveRegistryPacket({serviceName:this.name,executors:f}))}i&&void 0!==t[n]&&null!==t[n]&&delete t[n]}else console.error("webworker-rpc: "+s+" not exists")}else console.error("webworker-rpc: "+e+" is not in "+t)},r.prototype.onWorkerUnlinked=function(e){console.log("webworker-rpc: "+this.name+" onWorkerUnlinked: ",e)},r.prototype.__send=function(e,t,n,i){var a=e,s=void 0===i?[]:i;if(n)switch(r.msgTransType){case R.SharedArrayBuffer:var c=o.webworker_rpc.WebWorkerMessage.encode(e).finish(),u=new SharedArrayBuffer(c.byteLength);new Uint8Array(u).set(c,0),a=u;break;case R.Transferable:var l=(c=o.webworker_rpc.WebWorkerMessage.encode(e).finish()).buffer.slice(c.byteOffset,c.byteLength+c.byteOffset);a=l,s=s.concat(l)}"string"==typeof t?this.channels.has(t)&&this.channels.get(t).postMessage(a,s):t.postMessage(a,s)},r.prototype.addChannel=function(e,t){var n=this;if(this.channels.has(e))this.registry.has(e)&&this.updateLinkState(e);else{this.channels.set(e,t),t.onmessage=function(e){var t,i=(t=r.msgTransType===R.SharedArrayBuffer&&e.data instanceof SharedArrayBuffer||r.msgTransType===R.Transferable&&e.data instanceof ArrayBuffer?o.webworker_rpc.WebWorkerMessage.decode(new Uint8Array(e.data)):e.data).key;if(null!=i)switch(i){case n.MESSAGEKEY_LINK:n.onMessage_Link(t.dataLink,[].concat(e.ports));break;case n.MESSAGEKEY_ADD_REGISTRY:n.onMessage_AddRegistry(t.dataAddRegistry);break;case n.MESSAGEKEY_GOT_REGISTRY:n.onMessage_GotRegistry(t.dataGotRegistry);break;case n.MESSAGEKEY_REMOVE_REGISTRY:n.onMessage_RemoveRegistry(t.dataRemoveRegistry);break;case n.MESSAGEKEY_EXECUTE:n.onMessage_Execute(t.dataExecute);break;case n.MESSAGEKEY_RESPOND:n.onMessage_Respond(t.dataResponse);break;case n.MESSAGEKEY_UNLINK:n.onMessage_Unlink(t.dataUnlink);break;case n.MESSAGEKEY_PROXY_CREATE_WORKER:n.onMessage_ProxyCreateWorker(t.dataProxyCreateWorker,[].concat(e.ports))}},this.updateRegistry();var i=[];if(w.forEach((function(e,r){var t=r.split(".")[0];if(y.has(t))for(var o=0,n=e;o<n.length;o++){var a=n[o];i.push(a)}})),this.postRegistry(e,new o.webworker_rpc.AddRegistryPacket({id:this.registryPackID,serviceName:this.name,executors:i})),"__MANAGER"===e)for(var a=this.linkTasks.length,s=0;s<a;s++){var c=this.linkTasks.pop(),u=c.workerUrl instanceof URL?c.workerUrl.toString():c.workerUrl,l=new o.webworker_rpc.WebWorkerMessage({key:this.MESSAGEKEY_REQUEST_LINK,dataRequestLink:new o.webworker_rpc.RequestLinkPacket({serviceName:this.name,workerName:c.workerName,workerUrl:u})});this.__send(l,"__MANAGER",!1)}}},r.prototype.execute=function(e,t,i,a){var s=this;if(r.debug&&console.log("webworker-rpc: "+this.name+" execute: ",e,t,i,a),this.registry.has(e)){var c=this.registry.get(e).find((function(e){return e.context===i&&e.method===t}));if(null!=c){var u=c.params;if(u&&u.length>0){if(!a||0===a.length)return void console.error("webworker-rpc: method <"+t+"> execute error! ","param.length = 0");if(u.length>a.length)return void console.error("webworker-rpc: method <"+t+"> execute error! ","param not enough");for(var l=0;l<u.length;l++){var f=u[l],p=a[l];if(f.t!==p.data.t)return void console.error("webworker-rpc: method <"+t+"> execute error! ","param type not match, registry: <",o.webworker_rpc.ParamType[f.t],">; execute: <",o.webworker_rpc.ParamType[p.data.t],">")}}var d=this.resolverID++,h=new n;this.resolvers.set(d,h);for(var w=[],y=0,k=a;y<k.length;y++){var b=k[y];w.push(b.data)}return h.promise((function(){var r=new o.webworker_rpc.WebWorkerMessage({key:s.MESSAGEKEY_EXECUTE,dataExecute:new o.webworker_rpc.ExecutePacket({id:d,header:new o.webworker_rpc.Header({serviceName:s.name,remoteExecutor:new o.webworker_rpc.Executor({method:t,context:i,params:w})})})});s.__send(r,e,!0)}))}console.error("webworker-rpc: method <"+t+"> not registed")}else console.error("webworker-rpc: worker <"+e+"> not registed")},r.prototype.respond=function(e,r,t,n){var i=new o.webworker_rpc.WebWorkerMessage({key:this.MESSAGEKEY_RESPOND,dataResponse:new o.webworker_rpc.ResponsePacket({id:r,val:t.data,err:n})});this.__send(i,e,!0)},r.prototype.updateRegistry=function(){if(!this.exported){this.exported=!0;for(var e=0,r=k;e<r.length;e++){var t=r[e];y.has(t)?this.exportObject(y.get(t),t):console.warn("webworker-rpc: Export only decorate Emitter! check class: "+t)}for(var o=0,n=Array.from(b.keys());o<n.length;o++){var i=n[o],a=i.split("."),s=a[0];if(y.has(s))for(var c=0,u=b.get(i);c<u.length;c++){for(var l=u[c],f=y.get(s),p=1;p<a.length;p++){f=f[a[p]]}l in f?this.exportObject(f[l],i+"."+l,!1):console.error("webworker-rpc: "+l+" not in ",f)}else console.warn("webworker-rpc: Export only decorate Emitter! check attribute: "+i)}}},r.prototype.postRegistry=function(e,r){if("__MANAGER"!==e){var t=new o.webworker_rpc.WebWorkerMessage({key:this.MESSAGEKEY_ADD_REGISTRY,dataAddRegistry:r});this.__send(t,e,!0)}},r.prototype.cancelRegistry=function(e,r){if("__MANAGER"!==e){var t=new o.webworker_rpc.WebWorkerMessage({key:this.MESSAGEKEY_REMOVE_REGISTRY,dataRemoveRegistry:r});this.__send(t,e,!0)}},r.prototype.onMessage_Link=function(e,t){r.debug&&console.log("webworker-rpc: "+this.name+" onMessage_Link: ",e);for(var o=e.workers,n=0;n<t.length;n++){var i=t[n],a=o[n];this.addChannel(a,i)}},r.prototype.onMessage_AddRegistry=function(e){r.debug&&console.log("webworker-rpc: "+this.name+" onMessage_AddRegistry:",e);var t=e.id,n=e.serviceName,i=e.executors;this.registry.has(n)||this.registry.set(n,[]);var a=this.registry.get(n).concat(i);this.registry.set(n,a),this.addRegistryProperty(n,i);var s=new o.webworker_rpc.WebWorkerMessage({key:this.MESSAGEKEY_GOT_REGISTRY,dataGotRegistry:new o.webworker_rpc.GotRegistryPacket({id:t,serviceName:this.name})});if(this.__send(s,n,!0),this.updateLinkState(n),_.has(n)){for(var c=0,u=_.get(n);c<u.length;c++){var l=u[c];this.remote[n][l.context].on(l.event,l.executor,this.name)}_.delete(n)}},r.prototype.onMessage_GotRegistry=function(e){r.debug&&console.log("webworker-rpc: "+this.name+" onMessage_GotRegistry:",e);var t=e.id,o=e.serviceName;this.linkListeners.has(o)&&(this.linkListeners.get(o).setPortReady(o)&&this.linkListeners.delete(o));this.syncRegistryListeners.has(t)&&(this.syncRegistryListeners.get(t).workerGotRegistry(o),this.syncRegistryListeners.delete(t))},r.prototype.onMessage_RemoveRegistry=function(e){r.debug&&console.log("webworker-rpc: "+this.name+" onMessage_RemoveRegistry:",e);var t=e.serviceName,o=e.executors;if(this.registry.has(t)){for(var n=this.registry.get(t),i=n.length-1;i>=0;i--){var a=n[i];o.indexOf(a)>=0&&n.splice(i,1)}this.removeRegistryProperty(t,o)}else console.warn("webworker-rpc: on message remove registry, service name "+t+" not exists")},r.prototype.onMessage_Execute=function(e){var t=this;r.debug&&console.log("webworker-rpc: "+this.name+" onMessage_Execute:",e);var o=e.id,n=e.header,a=n.serviceName,s=n.remoteExecutor,c=[];if(void 0!==s.params&&null!==s.params)for(var u=0,l=s.params;u<l.length;u++){var f=l[u],p=new i(f).getValue();c.push(p)}var d=this.executeFunctionByName(s.method,s.context,c);d instanceof Promise?d.then((function(e){t.handlerExcuteResult(a,o,e)})):this.handlerExcuteResult(a,o,d)},r.prototype.onMessage_Respond=function(e){r.debug&&console.log("webworker-rpc: "+this.name+" onMessage_Respond:",e);var t=e.id,o=e.val;if(this.resolvers.has(t)){var n=this.resolvers.get(t);if(this.resolvers.delete(t),e.hasOwnProperty("err")&&void 0!==e.err&&null!==e.err)return console.error("webworker-rpc: get error response: ",e.err),void n.reject(e.err);null==o?n.resolve():n.resolve(new i(o).getValue())}else console.error("webworker-rpc: response.id undefined: ",t)},r.prototype.onMessage_Unlink=function(e){r.debug&&console.log("webworker-rpc: "+this.name+" onMessage_Unlink:",e);var t=e.serviceName;this.channels.has(t)&&this.channels.delete(t),this.registry.has(t)&&this.registry.delete(t),void 0!==this.remote&&null!==this.remote&&t in this.remote&&delete this.remote[t],this.onWorkerUnlinked(t)},r.prototype.onMessage_ProxyCreateWorker=function(e,r){var t=e.workerName,o=e.workerUrl,n=e.workerType,i=e.msg;if("undefined"!=typeof Worker){var a=o,s=new Worker(a,{name:t,type:n&&"module"==n?"module":"classic"});console.log("webworker-rpc: "+this.name+" create worker: ",a,t),this.__send(i,s,!0,[].concat(r))}else console.error("webworker-rpc: Worker undefined! can not create worker")},r.prototype.exportObject=function(e,r,t){void 0===t&&(t=!0);var n=[];for(var i in e)if(!P.includes(i)||O.includes(i)){var a=e[i];if("function"==typeof a){var s=new o.webworker_rpc.Executor({method:i,context:r});v(s)&&n.push(s)}else if(t&&a instanceof Object){var c=r.concat(".",i);n=n.concat(this.exportObject(a,c))}}var u=r.split(".");if("constructor"!==u[u.length-1]){var l=e.constructor,f=this.exportObject(l,r+".constructor",t);n=n.concat(f)}return n},r.prototype.executeFunctionByName=function(e,r,t){var o=this.getContext(r);return null==o?(console.warn("webworker-rpc: excute function <"+e+"> error, no context <"+r+"> exist"),null):o[e].apply(o,t)},r.prototype.getContext=function(e){var r=e.split(".");if(!y.has(r[0]))return console.error("webworker-rpc: no context exist: ",r[0]),null;for(var t=y.get(r[0]),o=1;o<r.length;o++){var n=r[o];if(!(n in t))return console.warn("webworker-rpc: "+n+" is undefined in ",t),null;t=t[n]}return t},r.prototype.addRegistryProperty=function(e,r){var t=this;void 0!==this.remote&&null!==this.remote||(this.remote={});var o={};e in this.remote?o=this.remote[e]:M(this.remote,e,o);for(var n=function(r){for(var n=r.context.split("."),a=o,s=0,c=n;s<c.length;s++){var u=c[s];"constructor"!==u&&(u in a||M(a,u,{}),a=a[u])}M(a,r.method,(function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var a=[];if(null!=o)for(var s=0,c=o;s<c.length;s++){var u=c[s];a.push(i.createByValue(u))}return t.execute(e,r.method,r.context,a)}))},a=0,s=r;a<s.length;a++){n(s[a])}},r.prototype.removeRegistryProperty=function(e,r){if(void 0!==this.remote&&null!==this.remote){var t=this.remote[e];if(null!=t)for(var o=0,n=r;o<n.length;o++){for(var i=n[o],a=t,s=!0,c=[],u=0,l=i.context.split(".");u<l.length;u++){var f=l[u];if("constructor"!==f){if(c.push(f),!Object.prototype.hasOwnProperty.call(a,f)){s=!1;break}a=a[f]}}if(s)for(Object.prototype.hasOwnProperty.call(a,i.method)&&delete a[i.method];c.length>0&&!(Object.getOwnPropertyNames(a).length>0);){var p=c.splice(-1,1)[0];a=t;for(var d=0,h=c;d<h.length;d++){a=t[h[d]]}delete a[p]}}else console.warn("webworker-rpc: worker "+e+" not exists")}else console.warn("webworker-rpc: no remote created")},r.prototype.getManagerWorkerURL=function(){var e=l.toString(),r=new Blob(["\\n            self.addEventListener(\'message\', function(e) {\\n                (("+e+")(e));\\n            });\\n        "],{type:"text/javascript"});return URL.createObjectURL(r)},r.prototype.updateLinkState=function(e){this.linkListeners.has(e)&&(this.linkListeners.get(e).setPortReady(this.name)&&this.linkListeners.delete(e))},r.prototype.handlerExcuteResult=function(e,r,t){this.respond(e,r,i.createByValue(t))},r.prototype.getExcutors=function(e,r,t){for(var n=[],i=e,a=Object.getPrototypeOf(i).constructor.name,s=a+".constructor",c=r+"."+t;"Object"!==a;){if(w.has(a))for(var u=0,l=w.get(a);u<l.length;u++){var f=l[u];(h=new o.webworker_rpc.Executor(f)).context=c,n.push(h)}if(w.has(s))for(var p=0,d=w.get(s);p<d.length;p++){var h;f=d[p];(h=new o.webworker_rpc.Executor(f)).context=c+".constructor",n.push(h)}i=Object.getPrototypeOf(i),s=(a=Object.getPrototypeOf(i).constructor.name)+".constructor"}return n},r.msgTransType=R.Obj,r.debug=!1,p([E(),d("design:type",Function),d("design:paramtypes",[String,Object,Boolean,String]),d("design:returntype",S)],r.prototype,"attach",null),p([m(),d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],r.prototype,"destroy",null),r}(N),S=function(){function e(e,r){this.port1="",this.port2="",this.port1Ready=!1,this.port2Ready=!1,this.port1=e,this.port2=r}return e.prototype.onceReady=function(e){this.readyFunc=e},e.prototype.setPortReady=function(e){return(this.port1===e||this.port2===e)&&(this.port1Ready||(this.port1Ready=this.port1===e),this.port2Ready||(this.port2Ready=this.port2===e),!(!this.port1Ready||!this.port2Ready)&&(this.readyFunc&&(this.readyFunc(),this.readyFunc=null),!0))},e}(),A=function(){function e(e,r){this.id=e,this.workersState=new Map;for(var t=0,o=r;t<o.length;t++){var n=o[t];"__MANAGER"!==n&&this.workersState.set(n,!1)}}return e.prototype.onceReady=function(e){this.readyFunc=e},e.prototype.workerGotRegistry=function(e){if(this.workersState.has(e)){this.workersState.set(e,!0);for(var r=!0,t=0,o=Array.from(this.workersState.keys());t<o.length;t++){var n=o[t];if(!this.workersState.get(n)){r=!1;break}}r&&this.readyFunc&&(this.readyFunc(),this.readyFunc=null)}},e}();function M(e,r,t){return r in e?(console.warn("webworker-rpc: key exist, add property failed!",e,r),e):(e[r]=t,e)}}])}));\n\n//# sourceURL=webpack://Rust-wasm/./node_modules/webworker-rpc/release/index.js?')}},__webpack_module_cache__={},inProgress,wasmImportedFuncCache0,wasmImportedFuncCache1,installedWasmModules,wasmImportObjects,wasmModuleMap;function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var t=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.c=__webpack_module_cache__,__webpack_require__.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(r,{a:r}),r},__webpack_require__.d=function(e,r){for(var t in r)__webpack_require__.o(r,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(r,t){return __webpack_require__.f[t](e,r),r}),[]))},__webpack_require__.u=function(e){return"js/"+e+"_worker.js"},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},inProgress={},__webpack_require__.l=function(e,r,t,o){if(inProgress[e])inProgress[e].push(r);else{var n,a;if(void 0!==t)for(var i=document.getElementsByTagName("script"),s=0;s<i.length;s++){var c=i[s];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")=="Rust-wasm:"+t){n=c;break}}n||(a=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,__webpack_require__.nc&&n.setAttribute("nonce",__webpack_require__.nc),n.setAttribute("data-webpack","Rust-wasm:"+t),n.src=e),inProgress[e]=[r];var onScriptComplete=function(r,t){n.onerror=n.onload=null,clearTimeout(u);var o=inProgress[e];if(delete inProgress[e],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((function(e){return e(t)})),r)return r(t)},u=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=onScriptComplete.bind(null,n.onerror),n.onload=onScriptComplete.bind(null,n.onload),a&&document.head.appendChild(n)}},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var r=__webpack_require__.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e+"../"}(),function(){var e={worker:0};__webpack_require__.f.j=function(r,t){var o=__webpack_require__.o(e,r)?e[r]:void 0;if(0!==o)if(o)t.push(o[2]);else{var n=new Promise((function(t,n){o=e[r]=[t,n]}));t.push(o[2]=n);var a=__webpack_require__.p+__webpack_require__.u(r),i=new Error;__webpack_require__.l(a,(function(t){if(__webpack_require__.o(e,r)&&(0!==(o=e[r])&&(e[r]=void 0),o)){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;i.message="Loading chunk "+r+" failed.\n("+n+": "+a+")",i.name="ChunkLoadError",i.type=n,i.request=a,o[1](i)}}),"chunk-"+r,r)}};var webpackJsonpCallback=function(r,t){var o,n,a=t[0],i=t[1],s=t[2],c=0;if(a.some((function(r){return 0!==e[r]}))){for(o in i)__webpack_require__.o(i,o)&&(__webpack_require__.m[o]=i[o]);if(s)s(__webpack_require__)}for(r&&r(t);c<a.length;c++)n=a[c],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0},r=this.webpackChunkRust_wasm=this.webpackChunkRust_wasm||[];r.forEach(webpackJsonpCallback.bind(null,0)),r.push=webpackJsonpCallback.bind(null,r.push.bind(r))}(),installedWasmModules={},wasmImportObjects={"./pkg/wasm_bg.wasm":function(){return{"./wasm_bg.js":{__wbg_alert_43c9fb04791c6489:function(e,r){return void 0===wasmImportedFuncCache0&&(wasmImportedFuncCache0=__webpack_require__.c["./pkg/wasm_bg.js"].exports),wasmImportedFuncCache0.__wbg_alert_43c9fb04791c6489(e,r)},__wbindgen_throw:function(e,r){return void 0===wasmImportedFuncCache1&&(wasmImportedFuncCache1=__webpack_require__.c["./pkg/wasm_bg.js"].exports),wasmImportedFuncCache1.__wbindgen_throw(e,r)}}}}},wasmModuleMap={pkg_wasm_js:["./pkg/wasm_bg.wasm"]},__webpack_require__.w={},__webpack_require__.f.wasm=function(e,r){(wasmModuleMap[e]||[]).forEach((function(t,o){var n=installedWasmModules[t];if(n)r.push(n);else{var a,i=wasmImportObjects[t](),s=fetch(__webpack_require__.p+""+{pkg_wasm_js:{"./pkg/wasm_bg.wasm":"7f4f224b33818da9f1d4"}}[e][t]+".module.wasm");a=i&&"function"==typeof i.then&&"function"==typeof WebAssembly.compileStreaming?Promise.all([WebAssembly.compileStreaming(s),i]).then((function(e){return WebAssembly.instantiate(e[0],e[1])})):"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(s,i):s.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,i)})),r.push(installedWasmModules[t]=a.then((function(e){return __webpack_require__.w[t]=(e.instance||e).exports})))}}))};var __webpack_exports__=__webpack_require__("./src/worker/index.ts");return __webpack_exports__}()}));